"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6425],{39039:(e,a,l)=>{l.d(a,{A:()=>i});l(65043);const s="LoaderComp_postLoaderContainer__neFg0",t="LoaderComp_PostLoader__4Io7-",o="LoaderComp_PostLoader__item__yL0FD";var n=l(70579);const i=function(){return(0,n.jsx)("div",{className:s,children:(0,n.jsxs)("div",{className:t,children:[(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o}),(0,n.jsx)("div",{className:o})]})})}},16425:(e,a,l)=>{l.r(a),l.d(a,{default:()=>O});var s=l(65043);const t="Editprofile_mainContainer__iB6Zf",o="Editprofile_editProfile__form__aJVXr",n="Editprofile_Form__profileContainer__b6HrN",i="Editprofile_form__userLabel__hGSVE",r="Editprofile_Form__profileBox__a7IT4",d="Editprofile_Form__profile_editICON_Box__WE4IP",c="Editprofile_Form__profile_editICON__tiljR",m="Editprofile_Form__userProfile__-MUWT",p="Editprofile_Form__inputRows_Primary__Na7Ev",u="Editprofile_Form__inputRows_Secondry__pM0Qk",_="Editprofile_Form__inputBox__JD+Yy",v="Editprofile_Form__inputBox_Label__O7prB",h="Editprofile_Form__inputBox_Label_Info__xnuxp",x="Editprofile_Form__input__6eBbE",j="Editprofile_Form_About_textArea__Odkwf",N="Editprofile_Form__Select_input__IqXsJ",f="Editprofile_Form_SelectInput_options__G2qjX",g="Editprofile_Form_WorkEXP_heading__oFRj6",y="Editprofile_Form__buttonContainer__PX3qj",b="Editprofile_Form__saveChangesButton__J7gwM",C="Editprofile_Form_skilsList__M3WIb",E="Editprofile_Form_skilsList_Item__xVuEV",F="Editprofile_Form_skilsList_Item_DeleteButton__2Ol2T";var k=l(86213),w=l(23768),I=l(83003),S=l(39039),L=l(92021),A=l(6720),D=l(17195),P=l.n(D),T=(l(15935),l(70579));const B="http://localhost:8585/api";const O=function(){var e,a,l,D,O,R,J,U,W,M,X,V,q;const G=(0,s.useRef)(null),{email:H,name:K}=(0,I.d4)((e=>e.Assessment.currentUser)),[Q,Y]=(0,s.useState)(!1),[Z,z]=(0,s.useState)(""),[$,ee]=(0,s.useState)([]),[ae,le]=(0,s.useState)(null),[se,te]=(0,s.useState)({name:"",email:"",phone_number:"",dob:"",country:"",state:"",college:"",course:"",course_start_date:"",course_end_date:"",percentage:"",job_title:"",company:"",company_start_date:"",company_end_date:"",profileImage:"",biography:"",userAppliedJob:"",userSavedJob:"",experience:"",website:"",gender:"",marital_status:""}),oe=e=>{let{name:a,value:l}=e.target;if(te({...se,[a]:l}),"firstName"===a||"lastName"===a){var s,t,o,n;const e="firstName"===a?l:null!==(s=null===(t=se.name)||void 0===t?void 0:t.split(" ")[0])&&void 0!==s?s:"",i="lastName"===a?l:null!==(o=null===(n=se.name)||void 0===n?void 0:n.split(" ")[1])&&void 0!==o?o:"",r="".concat(e," ").concat(i);te({...se,name:r})}var i,r;"profileImage"===a&&("image"===(null===(i=e.target)||void 0===i||null===(r=i.files[0])||void 0===r?void 0:r.type.split("/")[0])?(te({...se,[a]:URL.createObjectURL(e.target.files[0])}),le(e.target.files[0])):w.Ay.error("Invalid image"))},ne=()=>{Y(!0),k.A.get("".concat(B,"/user?email=").concat(H)).then((e=>{if(e.data.success){var a,l,s,t,o;const{name:n,email:i,phone_number:r,dob:d,country:c,college:m,course:p,percentage:u,job_title:_,company:v,company_start_date:h,company_end_date:x,profileImage:j,biography:N,website:f,gender:g,marital_status:y,experience:b}=e.data.userDetails;console.log(e.data.userDetails),te({name:n,email:i,phone_number:r,dob:d,country:c,college:m,course:p,percentage:u,job_title:_,company:v,company_start_date:h,company_end_date:x,profileImage:j,biography:N,website:f,gender:g,marital_status:y,experience:b}),ee(null!==(a=null===(l=e.data.userDetails)||void 0===l||null===(s=l.skills)||void 0===s?void 0:s.map((e=>e.name)))&&void 0!==a?a:[]),localStorage.setItem("profileImage",null===(t=e.data.userDetails)||void 0===t?void 0:t.profileImage),localStorage.setItem("name",null===(o=e.data.userDetails)||void 0===o?void 0:o.name),Y(!1)}})).catch((e=>{Y(!1),w.Ay.error("Something went wrong ".concat(e.message))}))};return(0,s.useEffect)(ne,[H]),(0,T.jsx)("main",{className:t,children:Q?(0,T.jsx)(S.A,{}):(0,T.jsxs)("form",{className:o,onSubmit:e=>e.preventDefault(),encType:"multipart/form-data",children:[(0,T.jsxs)("div",{className:n,children:[(0,T.jsx)("label",{htmlFor:"profileImage",className:i,children:"Profile Picture"}),(0,T.jsxs)("div",{className:r,children:[(0,T.jsx)("img",{src:null!==(e=null===se||void 0===se?void 0:se.profileImage)&&void 0!==e?e:"https://img.freepik.com/free-vector/illustration-businessman_53876-5856.jpg",alt:"".concat(K,"-Profile"),className:m,onError:e=>{e.target.src="https://img.freepik.com/free-vector/illustration-businessman_53876-5856.jpg",e.onError=null}}),(0,T.jsx)("p",{className:d,title:"Edit Profile",onClick:()=>G.current.click(),children:(0,T.jsx)(A.vAr,{className:c})}),(0,T.jsx)("input",{type:"file",name:"profileImage",hidden:!0,ref:G,accept:"image/*",id:"profileImage",className:x,onChange:oe})]})]}),(0,T.jsxs)("div",{className:"".concat(p),children:[(0,T.jsxs)("div",{className:_,children:[(0,T.jsxs)("label",{htmlFor:"firstName",className:v,children:[" ","First Name"]}),(0,T.jsx)("input",{type:"text",value:null!==(a=null===(l=se.name)||void 0===l?void 0:l.split(" ")[0])&&void 0!==a?a:"",name:"firstName",id:"firstName",placeholder:"Enter your first name",className:x,onChange:oe,autoComplete:"off"})]}),(0,T.jsxs)("div",{className:_,children:[(0,T.jsx)("label",{htmlFor:"lastName",className:v,children:"Last Name"}),(0,T.jsx)("input",{type:"text",name:"lastName",value:null!==(D=null===(O=se.name)||void 0===O?void 0:O.split(" ")[1])&&void 0!==D?D:"",id:"lastName",placeholder:"Enter your last name",className:x,onChange:oe,autoComplete:"off"})]})]}),(0,T.jsxs)("div",{className:"".concat(u),children:[(0,T.jsxs)("label",{htmlFor:"email",className:v,children:[" ","Email Address"]}),(0,T.jsx)("input",{type:"email",value:se.email,name:"email",id:"email",placeholder:"Enter your email address",className:x,onChange:oe,autoComplete:"off"})]}),(0,T.jsxs)("div",{className:"".concat(u),children:[(0,T.jsx)("label",{htmlFor:"phone",className:v,children:"Phone"}),(0,T.jsx)(P(),{country:"",pattern:"[0-9]{10}",value:se.phone_number,name:"phone_number",id:"phone",placeholder:"Enter your phone number",onChange:e=>{te({...se,phone_number:String(e)}),console.log("Phone number updated",e)},maxLength:"10",autoComplete:"off"})]}),(0,T.jsxs)("div",{className:"".concat(u),children:[(0,T.jsx)("label",{htmlFor:"website",className:v,children:"Website"}),(0,T.jsx)("input",{type:"text",value:se.website,name:"website",id:"website",placeholder:"Enter your website link",className:x,onChange:oe,autoComplete:"off"})]}),(0,T.jsxs)("div",{className:"".concat(p),children:[(0,T.jsxs)("div",{className:_,children:[(0,T.jsxs)("label",{htmlFor:"maritalStatus",className:v,children:[" ","Marital Status"]}),(0,T.jsxs)("select",{id:"maritalStatus",value:se.marital_status,className:"".concat(x," ").concat(N),name:"marital_status",onChange:oe,autoComplete:"off",children:[(0,T.jsx)("option",{value:"",children:"Select your marital status"}),(0,T.jsx)("option",{value:"single",className:f,children:"single"}),(0,T.jsx)("option",{value:"married",className:f,children:"married"}),(0,T.jsx)("option",{value:"widowed",className:f,children:"widowed"}),(0,T.jsx)("option",{value:"divorced",className:f,children:"divorced"}),(0,T.jsx)("option",{value:"separated",className:f,children:"separated"})]})]}),(0,T.jsxs)("div",{className:_,children:[(0,T.jsx)("label",{htmlFor:"dob",className:v,children:"Date of birth"}),(0,T.jsx)("input",{type:"date",name:"dob",id:"dob",value:null===(R=se.dob)||void 0===R?void 0:R.split("T")[0],className:x,onChange:oe,autoComplete:"off"})]})]}),(0,T.jsxs)("div",{className:"".concat(p),children:[(0,T.jsxs)("div",{className:_,children:[(0,T.jsxs)("label",{htmlFor:"gender",className:v,children:[" ","Gender"]}),(0,T.jsxs)("select",{value:se.gender,className:"".concat(x," ").concat(N),id:"gender",onChange:oe,name:"gender",autoComplete:"off",children:[(0,T.jsx)("option",{value:"",children:"Select your gender"}),(0,T.jsx)("option",{value:"Male",className:f,children:"male"}),(0,T.jsx)("option",{value:"Female",className:f,children:"female"}),(0,T.jsx)("option",{value:"Other",className:f,children:"other"})]})]}),(0,T.jsxs)("div",{className:_,children:[(0,T.jsxs)("label",{htmlFor:"nationality",className:v,children:[" ","nationality"]}),(0,T.jsxs)("select",{value:se.country,name:"country",className:"".concat(x," ").concat(N),id:"nationality",onChange:oe,autoComplete:"off",children:[(0,T.jsx)("option",{value:"",children:"Select your nationality"}),(0,T.jsx)("option",{value:"Indian",className:f,children:"indian"}),(0,T.jsx)("option",{value:"Non-Indian",className:f,children:"non-indian"})]})]})]}),(0,T.jsxs)("div",{className:"".concat(p),children:[(0,T.jsxs)("div",{className:_,children:[(0,T.jsxs)("label",{htmlFor:"college",className:v,children:[" ","university/College"]}),(0,T.jsx)("input",{type:"text",name:"college",value:se.college,id:"college",placeholder:"Enter College or university name",className:x,onChange:oe,autoComplete:"off"})]}),(0,T.jsxs)("div",{className:_,children:[(0,T.jsx)("label",{htmlFor:"course",className:v,children:"course"}),(0,T.jsx)("input",{type:"text",name:"course",value:se.course,id:"course",placeholder:"Enter course name",className:x,onChange:oe,autoComplete:"off"})]})]}),(0,T.jsxs)("div",{className:"".concat(u),children:[(0,T.jsxs)("label",{htmlFor:"percentage",className:v,children:[" ","percentage"]}),(0,T.jsx)("input",{type:"number",value:se.percentage,name:"percentage",id:"percentage",placeholder:"Enter your percentage",className:x,onChange:oe,autoComplete:"off"})]}),(0,T.jsxs)("div",{className:"".concat(u),children:[(0,T.jsxs)("label",{htmlFor:"skills",className:v,children:[" ","Skills"," ",(0,T.jsxs)("span",{className:h,children:["Press ",(0,T.jsx)("strong",{children:"ENTER"})," for register the skil set"]})]}),(null===$||void 0===$?void 0:$.length)>0&&(0,T.jsx)("ul",{className:C,children:null===$||void 0===$?void 0:$.map(((e,a)=>(0,T.jsxs)("li",{className:E,children:[e," ",(0,T.jsx)(L.j55,{onClick:a=>{return l=e,void ee($.filter((e=>e!==l)));var l},className:F})," "]},a)))}),(0,T.jsx)("input",{type:"text",name:"skills",id:"skills",placeholder:"Enter your skils",className:x,autoComplete:"off",onKeyDown:e=>{"Enter"===e.key?(null!==$&&void 0!==$&&$.every((e=>(null===e||void 0===e?void 0:e.toUpperCase())!==(null===Z||void 0===Z?void 0:Z.toUpperCase())))&&($.push(Z.toUpperCase()),ee($)),z("")):"Backspace"===e.key&&""===e.target.value&&ee($.slice(0,-1))},value:Z,onChange:e=>z(e.target.value)})]}),(0,T.jsx)("h2",{className:g,children:"Work experience (Optional)"}),(0,T.jsxs)("div",{className:"".concat(p),children:[(0,T.jsxs)("div",{className:_,children:[(0,T.jsxs)("label",{htmlFor:"jobTitle",className:v,children:[" ","Job Title"]}),(0,T.jsx)("input",{type:"text",name:"job_title",value:null!==(J=se.job_title)&&void 0!==J?J:"",id:"jobTitle",placeholder:"Enter job title",className:x,onChange:oe,autoComplete:"off"})]}),(0,T.jsxs)("div",{className:_,children:[(0,T.jsx)("label",{htmlFor:"companyName",className:v,children:"Company Name"}),(0,T.jsx)("input",{type:"text",name:"company",value:null!==(U=se.company)&&void 0!==U?U:"",id:"companyName",placeholder:"Enter company name",className:x,onChange:oe,autoComplete:"off"})]})]}),(0,T.jsxs)("div",{className:"".concat(p),children:[(0,T.jsxs)("div",{className:_,children:[(0,T.jsx)("label",{htmlFor:"company_start_date",className:v,children:"Start Date"}),(0,T.jsx)("input",{type:"date",name:"company_start_date",id:"company_start_date",value:null!==(W=null===(M=se.company_start_date)||void 0===M?void 0:M.split("T")[0])&&void 0!==W?W:"",className:x,onChange:oe})]}),(0,T.jsxs)("div",{className:_,children:[(0,T.jsx)("label",{htmlFor:"company_end_date",className:v,children:"End Date"}),(0,T.jsx)("input",{type:"date",name:"company_end_date",id:"company_end_date",value:null!==(X=null===(V=se.company_end_date)||void 0===V?void 0:V.split("T")[0])&&void 0!==X?X:"",className:x,onChange:oe})]})]}),(0,T.jsxs)("div",{className:_,children:[(0,T.jsxs)("label",{htmlFor:"experience",className:v,children:[" ","Experience"]}),(0,T.jsx)("input",{type:"text",name:"experience",value:null!==(q=se.experience)&&void 0!==q?q:"",id:"experience",placeholder:"Fresher",className:x,onChange:oe,autoComplete:"off",readOnly:!0})]}),(0,T.jsxs)("div",{className:"".concat(u),style:{width:"100%"},children:[(0,T.jsxs)("label",{htmlFor:"about",className:v,children:[" ","About"]}),(0,T.jsx)("textarea",{className:j,placeholder:"Write about yourself",id:"about",name:"biography",value:null===se||void 0===se?void 0:se.biography,onChange:oe,autoComplete:"off"})]}),(0,T.jsx)("div",{className:y,children:(0,T.jsx)("button",{onClick:e=>{e.preventDefault(),Y(!0);const a=new FormData;a.append("name",null===se||void 0===se?void 0:se.name),a.append("email",null===se||void 0===se?void 0:se.email),a.append("phone_number",null===se||void 0===se?void 0:se.phone_number),a.append("dob",null===se||void 0===se?void 0:se.dob),a.append("country",null===se||void 0===se?void 0:se.country),a.append("college",null===se||void 0===se?void 0:se.college),a.append("course",null===se||void 0===se?void 0:se.course),a.append("percentage",null===se||void 0===se?void 0:se.percentage),a.append("job_title",null===se||void 0===se?void 0:se.job_title),a.append("company",null===se||void 0===se?void 0:se.company),a.append("company_start_date",null===se||void 0===se?void 0:se.company_start_date),a.append("company_end_date",null===se||void 0===se?void 0:se.company_end_date),a.append("profileImage",ae),a.append("biography",null===se||void 0===se?void 0:se.biography),a.append("website",null===se||void 0===se?void 0:se.website),a.append("gender",null===se||void 0===se?void 0:se.gender),a.append("marital_status",null===se||void 0===se?void 0:se.marital_status),a.append("skills",$),k.A.patch("".concat(B,"/update-user/").concat(H),a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{e.data.success?(w.Ay.success(e.data.msg),le(null),ne()):(w.Ay.error(e.data.msg),le(null),ne())})).catch((e=>{w.Ay.error("Something went wrong : ".concat(e.msg)),ne()}))},type:"button",className:b,children:"Save Changes"})})]})})}}}]);
//# sourceMappingURL=6425.d35f5897.chunk.js.map