"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2953],{39039:(e,a,o)=>{o.d(a,{A:()=>i});o(65043);const l="LoaderComp_postLoaderContainer__neFg0",s="LoaderComp_PostLoader__4Io7-",t="LoaderComp_PostLoader__item__yL0FD";var n=o(70579);const i=function(){return(0,n.jsx)("div",{className:l,children:(0,n.jsxs)("div",{className:s,children:[(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t}),(0,n.jsx)("div",{className:t})]})})}},22953:(e,a,o)=>{o.r(a),o.d(a,{default:()=>E});var l=o(65043);const s="EditProfile_mainContainer__fk7mB",t="EditProfile_editProfile__form__mMcul",n="EditProfile_Form__profileContainer__AFqem",i="EditProfile_form__userLabel__V9BVv",m="EditProfile_Form__profileBox__h3wxK",r="EditProfile_Form__profile_editICON_Box__g6BgJ",d="EditProfile_Form__profile_editICON__7gCbN",c="EditProfile_Form__userProfile__qRbgw",p="EditProfile_Form__inputRows_Primary__IxwA2",u="EditProfile_Form__inputRows_Secondry__A6QID",_="EditProfile_Form__inputBox__j-NIO",v="EditProfile_Form__inputBox_Label__OoD3J",f="EditProfile_Form__input__H-njJ",h="EditProfile_Form__buttonContainer__zzISV",N="EditProfile_Form__saveChangesButton__eTnTG";var y=o(86213),g=o(23768),x=o(83003),j=o(39039),C=o(6720),b=o(70579);const A="http://localhost:8585/api";const E=function(){var e,a,o,E,F;const P=(0,l.useRef)(null),{email:I,name:w}=(0,x.d4)((e=>e.Assessment.currentUser)),[L,S]=(0,l.useState)(!1),[D,W]=(0,l.useState)(null),[k,B]=(0,l.useState)({name:"",email:"",profileImage:"",companyName:"",aboutCompany:"",companyAddress:"",companyWebsite:""}),R=e=>{let{name:a,value:o}=e.target;if(B({...k,[a]:o}),console.log(k),"firstName"===a||"lastName"===a){var l,s,t,n;const e="firstName"===a?o:null!==(l=null===(s=k.name)||void 0===s?void 0:s.split(" ")[0])&&void 0!==l?l:"",i="lastName"===a?o:null!==(t=null===(n=k.name)||void 0===n?void 0:n.split(" ")[1])&&void 0!==t?t:"",m="".concat(e," ").concat(i);B({...k,name:m})}var i,m;"profileImage"===a&&("image"===(null===(i=e.target)||void 0===i||null===(m=i.files[0])||void 0===m?void 0:m.type.split("/")[0])?(B({...k,[a]:URL.createObjectURL(e.target.files[0])}),W(e.target.files[0])):g.Ay.error("Invalid image"))},O=()=>{S(!0),y.A.get("".concat(A,"/hr/get-hr?email=").concat(I)).then((e=>{if(e.data){var a,o,l;console.log(e.data.hrDetails);const{name:s,email:t,profileImage:n,companyName:i,aboutCompany:m,companyAddress:r,companyWebsite:d}=e.data.hrDetails;B({name:s,email:t,profileImage:n,companyName:i,aboutCompany:m,companyAddress:r,companyWebsite:d}),localStorage.setItem("profileImage",null===(a=e.data.hrDetails)||void 0===a?void 0:a.profileImage),localStorage.setItem("name",null===(o=e.data.hrDetails)||void 0===o?void 0:o.name),localStorage.setItem("email",null===(l=e.data.hrDetails)||void 0===l?void 0:l.email),S(!1)}})).catch((e=>{console.log(e),S(!1),g.Ay.error("Something went wrong ".concat(e.message))}))};return(0,l.useEffect)(O,[I]),(0,b.jsx)("main",{className:s,children:L?(0,b.jsx)(j.A,{}):(0,b.jsxs)("form",{className:t,onSubmit:e=>e.preventDefault(),encType:"multipart/form-data",children:[(0,b.jsxs)("div",{className:n,children:[(0,b.jsx)("label",{htmlFor:"profileImage",className:i,children:"Profile Picture"}),(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)("img",{src:null!==(e=null===k||void 0===k?void 0:k.profileImage)&&void 0!==e?e:"https://img.freepik.com/free-vector/illustration-businessman_53876-5856.jpg",alt:"".concat(w,"-Profile"),className:c,onError:e=>{e.target.src="https://img.freepik.com/free-vector/illustration-businessman_53876-5856.jpg",e.onError=null}}),(0,b.jsx)("p",{className:r,title:"Edit Profile",onClick:()=>P.current.click(),children:(0,b.jsx)(C.vAr,{className:d})}),(0,b.jsx)("input",{type:"file",name:"profileImage",hidden:!0,ref:P,accept:"image/*",id:"profileImage",className:f,onChange:R})]})]}),(0,b.jsxs)("div",{className:"".concat(p),children:[(0,b.jsxs)("div",{className:_,children:[(0,b.jsxs)("label",{htmlFor:"firstName",className:v,children:[" ","First Name"]}),(0,b.jsx)("input",{type:"text",value:null!==(a=null===(o=k.name)||void 0===o?void 0:o.split(" ")[0])&&void 0!==a?a:"",name:"firstName",id:"firstName",placeholder:"Enter your first name",className:f,onChange:R,autoComplete:"off"})]}),(0,b.jsxs)("div",{className:_,children:[(0,b.jsx)("label",{htmlFor:"lastName",className:v,children:"Last Name"}),(0,b.jsx)("input",{type:"text",name:"lastName",value:null!==(E=null===(F=k.name)||void 0===F?void 0:F.split(" ")[1])&&void 0!==E?E:"",id:"lastName",placeholder:"Enter your last name",className:f,onChange:R,autoComplete:"off"})]})]}),(0,b.jsxs)("div",{className:"".concat(u),children:[(0,b.jsxs)("label",{htmlFor:"email",className:v,children:[" ","Email Address"]}),(0,b.jsx)("input",{type:"email",value:k.email,name:"email",id:"email",placeholder:"Enter your email address",className:f,onChange:R,autoComplete:"off"}),(0,b.jsxs)("label",{htmlFor:"companyName",className:v,children:[" ","Company Name"]}),(0,b.jsx)("input",{type:"text",value:k.companyName,name:"companyName",id:"companyName",placeholder:"Enter Your Company Name",className:f,onChange:R}),(0,b.jsxs)("label",{htmlFor:"aboutCompany",className:v,children:[" ","About Company"]}),(0,b.jsx)("input",{type:"text",value:k.aboutCompany,name:"aboutCompany",id:"aboutCompany",placeholder:"Enter About Your Company",className:f,onChange:R}),(0,b.jsxs)("label",{htmlFor:"companyAddress",className:v,children:[" ","Company Address"]}),(0,b.jsx)("input",{type:"text",value:k.companyAddress,name:"companyAddress",id:"companyAddress",placeholder:"Enter Your Company Address",className:f,onChange:R}),(0,b.jsxs)("label",{htmlFor:"companyWebsite",className:v,children:[" ","Company Website"]}),(0,b.jsx)("input",{type:"url",value:k.companyWebsite,name:"companyWebsite",id:"companyWebsite",placeholder:"Enter Your Company Website",className:f,onChange:R})]}),(0,b.jsx)("div",{className:h,children:(0,b.jsx)("button",{onClick:e=>{e.preventDefault(),S(!0);const a=new FormData;a.append("name",null===k||void 0===k?void 0:k.name),a.append("email",null===k||void 0===k?void 0:k.email),a.append("profileImage",D),a.append("companyName",null===k||void 0===k?void 0:k.companyName),a.append("aboutCompany",null===k||void 0===k?void 0:k.aboutCompany),a.append("companyAddress",null===k||void 0===k?void 0:k.companyAddress),a.append("companyWebsite",null===k||void 0===k?void 0:k.companyWebsite),y.A.patch("".concat(A,"/hr/update-hr/").concat(I),a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{e.data.success?(g.Ay.success(e.data.msg),W(null),O()):(g.Ay.error(e.data.msg),W(null),O())})).catch((e=>{console.log(e),g.Ay.error("Something went wrong : ".concat(e.msg)),O()}))},type:"button",className:N,children:"Save Changes"})})]})})}}}]);
//# sourceMappingURL=2953.49e27345.chunk.js.map