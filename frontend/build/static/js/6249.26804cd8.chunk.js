"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6249],{39039:(e,s,a)=>{a.d(s,{A:()=>n});a(65043);const t="LoaderComp_postLoaderContainer__neFg0",l="LoaderComp_PostLoader__4Io7-",i="LoaderComp_PostLoader__item__yL0FD";var r=a(70579);const n=function(){return(0,r.jsx)("div",{className:t,children:(0,r.jsxs)("div",{className:l,children:[(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i}),(0,r.jsx)("div",{className:i})]})})}},56249:(e,s,a)=>{a.r(s),a.d(s,{default:()=>J});var t=a(65043);const l="Profile_style_profile_blur_container__oHtR7",i="Profile_style_fa_xmark__c5bNq",r="Profile_style_form_container__GU6nd",n="Profile_style_profile_main_container__vNtAL",c="Profile_style_name_section__pHbsM",o="Profile_style_input_name_container__cQZjD",d="Profile_style_input_container__vvsFg",m="Profile_style_email_box__qB6jV",_="Profile_style_basic_details_box__sgCGB",p="Profile_style_left_basic_details__9EKCY",x="Profile_style_right_basic_details__oRTS1",u="Profile_style_biography_section__uaSbm",h="Profile_style_input_biography_container__NZcFf",j="Profile_style_save_apply_btn__OMo08",y="Profile_style_start_assesment_popup_hide__NZ7Gp",v="Profile_style_start_assesment_popup__l3rTc",f="Profile_style_fa_xmark_2__EUV-M",b="Profile_style_start_quiz_des__Cj73Y",N="Profile_style_check_logo__k6sJR",g="Profile_style_start_assesment_btn__EE7-s",P="Profile_style_Cancel_container__psekc",F="Profile_style_CancelPopup__PgDH1",S="Profile_style_btn_box__4yTYV",O="Profile_style_cancelbtn1__cGV94",A="Profile_style_saveforlaterbtn2__r7Kqn";var k=a(73216),D=a(35475),w=a(86213),C=a(23768),E=a(83003),T=a(52173),L=a(70579);const B=()=>{const e=(0,k.Zp)(),s=(0,k.zy)().state,a=(0,E.wA)(),t=localStorage.getItem("email");return(0,L.jsx)("div",{className:P,children:(0,L.jsxs)("div",{className:F,children:[(0,L.jsx)("p",{children:"To complete your application you have to take assessment"}),(0,L.jsx)("div",{children:(0,L.jsx)("p",{style:{fontSize:20,fontWeight:"bold",color:"black"},children:"OR"})}),(0,L.jsxs)("div",{className:S,children:[(0,L.jsx)("button",{className:O,onClick:()=>e(-1),children:"Cancel"}),(0,L.jsx)("button",{className:A,onClick:l=>((s,l)=>{s.preventDefault(),w.A.post("".concat("http://localhost:8585/api","/user/My-jobs/create/save-job"),{...l,email:t}).then((s=>{s.data.success?(C.Ay.success("".concat(s.data.msg)),a((0,T.BK)(l._id)),e(-1)):C.Ay.error("".concat(s.data.msg))})).catch((e=>{C.Ay.error("server failed! Try again ".concat(e.message))}))})(l,s),children:"Save for later"})]})]})})};var z=a(39039),I=a(42614),M=a(55749);const R="http://localhost:8585/api",J=()=>{var e;const s=(0,M.io)("https://mackinlay-hrconnectweb.onrender.com"),[a,P]=(0,t.useState)(!1),[F,S]=(0,t.useState)(!1),[O,A]=(0,t.useState)(!1),[J,Z]=(0,t.useState)(!1),q=(0,k.Zp)(),G=(0,E.wA)(),U=(0,k.zy)().state,Y=localStorage.getItem("email"),[H,V]=(0,t.useState)([]),[K,W]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{const e=await w.A.get("".concat(R,"/user?email=").concat(Y));V(e.data.userDetails),W(e.data.userDetails.name.split(" "))})()}),[Y]);const Q=(()=>{if(H.resume&&H.resume.length>0){return H.resume.sort(((e,s)=>new Date(s.uploadedAt)-new Date(e.uploadedAt)))[0].filename}return null})(),X=new Date,$=X.getDate(),ee=X.getMonth()+1,se=X.getFullYear(),ae="".concat($<10?"0":"").concat($,"-").concat(ee<10?"0":"").concat(ee,"-").concat(se),te=e=>{if(!e)return"";return new Date(e).toISOString().split("T")[0]};return(0,L.jsx)(L.Fragment,{children:O?(0,L.jsx)(z.A,{}):(0,L.jsx)(L.Fragment,{children:H&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"".concat(a?v:y),children:[(0,L.jsx)("div",{className:f,onClick:()=>{S(!F)},children:(0,L.jsx)("i",{className:"fa-solid fa-xmark"})}),(0,L.jsxs)("div",{className:b,children:[(0,L.jsx)("div",{className:N,children:(0,L.jsx)("i",{className:"fa-solid fa-check"})}),(0,L.jsx)("h3",{children:"Success"}),(0,L.jsx)("p",{children:"Congratulations, you are one step closer to complete your application"}),(0,L.jsx)(D.N_,{to:F?"":"/skill-assesment-instructions",state:U,className:g,children:"Start Assesment"})]})]}),F&&(0,L.jsx)(B,{}),(0,L.jsx)("div",{className:"".concat(a?l:n),children:(0,L.jsxs)("form",{className:r,children:[(0,L.jsx)("div",{className:i,children:(0,L.jsx)("i",{className:"fa-solid fa-xmark",onClick:()=>q(-1)})}),(0,L.jsxs)("div",{style:{marginLeft:"28vw",marginTop:"-4vh"},children:[(0,L.jsx)("h4",{style:{marginLeft:"-20px",marginBottom:"8px"},children:"Profile Image"}),(0,L.jsx)("img",{src:null!==(e=H.profileImage)&&void 0!==e?e:"https://img.freepik.com/free-vector/illustration-businessman_53876-5856.jpg",alt:"network Error",style:{height:"100px",width:"100px",borderRadius:"50%"}})]}),(0,L.jsxs)("div",{className:c,children:[(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("label",{htmlFor:"firstname",children:"First Name"}),(0,L.jsx)("input",{type:"text",id:"firstname",value:K[0]||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,L.jsx)("input",{type:"text",id:"lastname",value:K[1]||"",readOnly:!0})]})]}),(0,L.jsxs)("div",{className:m,children:[(0,L.jsx)("label",{htmlFor:"email",children:"Email"}),(0,L.jsx)("input",{type:"email",id:"email",value:H.email||"",readOnly:!0}),(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("label",{htmlFor:"resume",children:"Upload Resume *"}),(0,L.jsx)("input",{type:"text",id:"resume",value:Q||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("label",{htmlFor:"website",children:"Website"}),(0,L.jsx)("input",{type:"text",id:"website",value:H.website||"",readOnly:!0})]})]}),(0,L.jsxs)("div",{className:_,children:[(0,L.jsxs)("div",{className:p,children:[(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("label",{htmlFor:"phonenumber",children:"Phone Number"}),(0,L.jsx)("input",{type:"number",id:"phonenumber",value:H.phone_number||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("label",{htmlFor:"country",children:"Country"}),(0,L.jsx)("input",{type:"text",id:"country",value:H.country||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,L.jsx)("input",{type:"text",id:"gender",value:H.gender||"",readOnly:!0})]})]}),(0,L.jsxs)("div",{className:x,children:[(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("label",{htmlFor:"DOB",children:"Date of Birth"}),(0,L.jsx)("input",{type:"date",id:"DOB",value:te(H.dob)||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("label",{htmlFor:"state",children:"State"}),(0,L.jsx)("input",{type:"text",id:"state",value:H.state||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("label",{htmlFor:"marital",children:"Marital Status"}),(0,L.jsx)("input",{type:"text",id:"marital",value:H.marital_status||"",readOnly:!0})]})]})]}),(0,L.jsx)("h2",{children:"Education Details"}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{className:c,children:[(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("label",{htmlFor:"course",children:"Course"}),(0,L.jsx)("input",{type:"text",id:"course",value:H.course||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("label",{htmlFor:"specialization",children:"Specialization"}),(0,L.jsx)("input",{type:"text",id:"specialization",value:H.course||"",readOnly:!0})]})]}),(0,L.jsxs)("div",{className:c,children:[(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("label",{htmlFor:"university",children:"University"}),(0,L.jsx)("input",{type:"text",id:"university",value:H.college||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("label",{htmlFor:"percentage",children:"Percentage"}),(0,L.jsx)("input",{type:"text",id:"percentage",value:"".concat(H.percentage,"%")||0,readOnly:!0})]})]}),(0,L.jsx)("h2",{children:"Work Experience (Optional)"}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{className:c,children:[(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("label",{htmlFor:"company",children:"Title"}),(0,L.jsx)("input",{type:"text",id:"company",value:H.job_title||"",readOnly:!0}),(0,L.jsx)("label",{htmlFor:"start",children:"Start Date"}),(0,L.jsx)("input",{type:"date",id:"start",value:te(H.company_start_date)||"",readOnly:!0})]}),(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("label",{htmlFor:"experience",children:"Company Name"}),(0,L.jsx)("input",{type:"text",id:"experience",value:H.company||"",readOnly:!0}),(0,L.jsx)("label",{htmlFor:"end",children:"End Date"}),(0,L.jsx)("input",{type:"date",id:"end",value:te(H.company_end_date)||"",readOnly:!0})]})]}),(0,L.jsx)("div",{className:u,children:(0,L.jsxs)("div",{className:h,children:[(0,L.jsx)("label",{htmlFor:"biography",children:"Biography"}),(0,L.jsx)("input",{type:"text",id:"biography",value:H.biography||"",readOnly:!0})]})}),(0,L.jsx)("button",{type:"submit",className:j,onClick:e=>(async(e,t)=>{e.preventDefault(),Z(!0);try{if(console.log(t),await G((0,I.g)(t._id||" ")),0!==U.mcq.length)F||a||P(!a);else{e.preventDefault();const a={...t,firstResumeFilename:Q,userData:H,email:Y,AppliedDate:ae,applicationStatus:[{JobStatus:"In-Progress",StatusText:"Applied",updatedAt:Date.now()},{JobStatus:"In-Progress",StatusText:"Application Sent",updatedAt:Date.now()}]};try{const e=await w.A.post("".concat(R,"/user/My-jobs/create/apply-job"),a);e.data.success?(C.Ay.success("".concat(e.data.msg)),s.emit("HrSendNotification",JSON.stringify({userEmail:null===t||void 0===t?void 0:t.employeeEmail,NotificatioNText:"".concat(null===H||void 0===H?void 0:H.name," applied for ").concat(null===t||void 0===t?void 0:t.jobTitle," job role."),notificationStatus:"Unread",updatedAt:Date.now()})),G((0,T.ZN)(t._id)),G((0,T.zv)(t._id)),A(!1),Z(!1),q(-1)):(C.Ay.error("".concat(e.data.msg)),G((0,I.g)(t._id||" ")))}catch(l){C.Ay.error("Server failed! Try again. ".concat(l.message)),Z(!1),A(!1)}}}catch(l){console.log(l),C.Ay.error("Error from handleApply")}finally{Z(!1)}})(e,U),disabled:J,children:J?"Job Applying...":"APPLY JOB"})]})})]})})})}}}]);
//# sourceMappingURL=6249.26804cd8.chunk.js.map